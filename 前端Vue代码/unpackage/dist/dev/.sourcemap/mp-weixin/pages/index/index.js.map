{"version":3,"sources":["webpack:///F:/stm32+esp8266Áâ©ËÅîÁΩëÊ∏©ÊπøÂ∫¶/APP/‰∏ãÂèëÂëΩ‰ª§ÊéßÂà∂led/pages/index/index.vue?6517","webpack:///F:/stm32+esp8266Áâ©ËÅîÁΩëÊ∏©ÊπøÂ∫¶/APP/‰∏ãÂèëÂëΩ‰ª§ÊéßÂà∂led/pages/index/index.vue?1e70","uni-app:///main.js","webpack:///F:/stm32+esp8266Áâ©ËÅîÁΩëÊ∏©ÊπøÂ∫¶/APP/‰∏ãÂèëÂëΩ‰ª§ÊéßÂà∂led/pages/index/index.vue?a2e4","webpack:///F:/stm32+esp8266Áâ©ËÅîÁΩëÊ∏©ÊπøÂ∫¶/APP/‰∏ãÂèëÂëΩ‰ª§ÊéßÂà∂led/pages/index/index.vue?511f","webpack:///F:/stm32+esp8266Áâ©ËÅîÁΩëÊ∏©ÊπøÂ∫¶/APP/‰∏ãÂèëÂëΩ‰ª§ÊéßÂà∂led/pages/index/index.vue?84ca","webpack:///F:/stm32+esp8266Áâ©ËÅîÁΩëÊ∏©ÊπøÂ∫¶/APP/‰∏ãÂèëÂëΩ‰ª§ÊéßÂà∂led/pages/index/index.vue?b246","uni-app:///pages/index/index.vue"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","require","createCommonToken","data","temp","humi","led","token","timeStr","dateStr","weather","weatherDesc","city","timer","dataTimer","onLoad","access_key","version","productid","onShow","onHide","onUnload","clearInterval","methods","startDataRefresh","stopDataRefresh","startClock","hour12","update","fetchWeather","uni","type","success","console","fail","getCityName","url","getWeatherByLocation","getWeatherDesc","fetchDevData","method","product_id","device_name","header","onLedSwitch","params","title","icon"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAk5C,CAAgB,w0CAAG,EAAC,C;;;;;;;;;;;ACAt6C;AACA,OAAO,KAAU,EAAE,kBAKd;;;;;;;;;;;;;;;;ACNL;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,cAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkH;AAClH;AACyD;AACL;AACc;;;AAGlE;AACgM;AAChM,gBAAgB,uMAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAmvB,CAAgB,ivBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACwEvwB,eAEAC;EADAC;AACA,eACA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MAAA;MACAC;MACAC;IACA;EACA;EACAC;IACA;MACAC;MACAC;MACAC;IACA;IACA;;IAEA;IACA;IACA;IACA;EACA;EACAC;IACA;IACA;IACA;EACA;EACAC;IACA;IACA;EACA;EACAC;IACA;MACAC;IACA;IACA;EACA;EACAC;IACAC;MAAA;MACA;MACA;QACA;MACA;IACA;IACAC;MACA;QACAH;QACA;MACA;IACA;IACAI;MAAA;MACA;QACA;QACA;UAAAC;QAAA;QACA;QACA;MACA;MACAC;MACA;IACA;IACAC;MAAA;MACA;MACAC;QACAC;QACAC;UACAC;UACA;UACA;UACA;UACA;QACA;QACAC;UACAD;UACA;UACA;QACA;MACA;IACA;IACAE;MAAA;MACAL;QACA;QACAM;QACAJ;UACAC;UACA;YACA;YACA;UACA;QACA;QACAC;UACA;QACA;MACA;IACA;IACAG;MAAA;MACAP;QACAM;QACAJ;UACA;YACA;YACA;UACA;QACA;QACAE;UACAD;QACA;MACA;IACA;IACAK;MACA;QACA;QACA;QAAA;QAAA;QACA;QAAA;QACA;QAAA;QAAA;QACA;QAAA;QAAA;QACA;QAAA;QAAA;QACA;QAAA;QAAA;QACA;QAAA;QAAA;MACA;MACA;IACA;IACAC;MAAA;MACAT;QACAM;QACAI;QACArC;UACAsC;UACAC;QACA;QACAC;UACA;QACA;;QACAX;UACAC;UACA;YACA;YACA;YACA;YACA;YACA;UACA;QACA;MACA;IACA;IACAW;MAAA;MACAX;MACA;MACA;MACA;MAEAH;QACAM;QACAI;QACArC;UACAsC;UACAC;UACAG;YACA;UACA;QACA;QACAF;UACA;QACA;;QACAX;UACAC;QACA;QACAC;UACA;UACA;UACAJ;YACAgB;YACAC;UACA;QACA;MACA;IACA;EACA;AACA;AAAA,2B","file":"pages/index/index.js","sourcesContent":["import mod from \"-!../../../../../HBuilderX.4.85.2025110510/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../HBuilderX.4.85.2025110510/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../HBuilderX.4.85.2025110510/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX.4.85.2025110510/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../HBuilderX.4.85.2025110510/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../HBuilderX.4.85.2025110510/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../HBuilderX.4.85.2025110510/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../HBuilderX.4.85.2025110510/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX.4.85.2025110510/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../HBuilderX.4.85.2025110510/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../HBuilderX.4.85.2025110510/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../HBuilderX.4.85.2025110510/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX.4.85.2025110510/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../HBuilderX.4.85.2025110510/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../HBuilderX.4.85.2025110510/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../HBuilderX.4.85.2025110510/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../HBuilderX.4.85.2025110510/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX.4.85.2025110510/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1764691248456\n      var cssReload = require(\"F:/HBuilderX.4.85.2025110510/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/index/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=57280228&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../HBuilderX.4.85.2025110510/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/index/index.vue\"\nexport default component.exports","export * from \"-!../../../../../HBuilderX.4.85.2025110510/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../HBuilderX.4.85.2025110510/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../HBuilderX.4.85.2025110510/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../HBuilderX.4.85.2025110510/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../HBuilderX.4.85.2025110510/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX.4.85.2025110510/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=57280228&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../HBuilderX.4.85.2025110510/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX.4.85.2025110510/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../HBuilderX.4.85.2025110510/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX.4.85.2025110510/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX.4.85.2025110510/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../HBuilderX.4.85.2025110510/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX.4.85.2025110510/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../HBuilderX.4.85.2025110510/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX.4.85.2025110510/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX.4.85.2025110510/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"container\">\r\n\t\t<!-- È°∂ÈÉ®Â§©Ê∞îÊó∂ÈíüÂå∫Âüü -->\r\n\t\t<view class=\"header\">\r\n\t\t\t<view class=\"title-bar\">\r\n\t\t\t\t<text class=\"app-title\">Êô∫ËÉΩÁâ©ËÅîÁΩëÊ∏©ÊπøÂ∫¶Á≥ªÁªü</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"weather-clock-box\">\r\n\t\t\t\t<view class=\"clock-section\">\r\n\t\t\t\t\t<text class=\"time\">{{ timeStr }}</text>\r\n\t\t\t\t\t<text class=\"date\">{{ dateStr }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"weather-section\" v-if=\"weather\">\r\n\t\t\t\t\t<text class=\"weather-temp\">{{ weather.temperature }}¬∞C</text>\r\n\t\t\t\t\t<text class=\"weather-status\">{{ city }} | {{ weatherDesc }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"weather-section\" v-else>\r\n\t\t\t\t\t<text class=\"weather-status\">Âä†ËΩΩÂ§©Ê∞î...</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- Â§öÂ∑¥ËÉ∫È£éÊ†ºÂç°ÁâáÁΩëÊ†º -->\r\n\t\t<view class=\"grid-container\">\r\n\t\t\t<!-- Ê∏©Â∫¶Âç°Áâá -->\r\n\t\t\t<view class=\"card temp-card\">\r\n\t\t\t\t<view class=\"card-header\">\r\n\t\t\t\t\t<text class=\"card-label\">Ê∏©Â∫¶</text>\r\n\t\t\t\t\t<text class=\"card-icon\">üå°Ô∏è</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"card-body\">\r\n\t\t\t\t\t<text class=\"card-value\">{{ temp || '--' }}</text>\r\n\t\t\t\t\t<text class=\"card-unit\">¬∞C</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- ÊπøÂ∫¶Âç°Áâá -->\r\n\t\t\t<view class=\"card humi-card\">\r\n\t\t\t\t<view class=\"card-header\">\r\n\t\t\t\t\t<text class=\"card-label\">ÊπøÂ∫¶</text>\r\n\t\t\t\t\t<text class=\"card-icon\">üíß</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"card-body\">\r\n\t\t\t\t\t<text class=\"card-value\">{{ humi || '--' }}</text>\r\n\t\t\t\t\t<text class=\"card-unit\">%</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- Âè∞ÁÅØÊéßÂà∂Âç°Áâá -->\r\n\t\t\t<view class=\"card light-card\">\r\n\t\t\t\t<view class=\"card-header\">\r\n\t\t\t\t\t<text class=\"card-label\">Âè∞ÁÅØ</text>\r\n\t\t\t\t\t<text class=\"card-icon\">üí°</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"card-body row-body\">\r\n\t\t\t\t\t<text class=\"status-text\">{{ led ? 'Â∑≤ÂºÄÂêØ' : 'Â∑≤ÂÖ≥Èó≠' }}</text>\r\n\t\t\t\t\t<switch color=\"#FFD700\" :checked=\"led\" @change=\"onLedSwitch\" style=\"transform:scale(0.9)\"/>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- Áî®Êà∑‰ø°ÊÅØÂç°Áâá -->\r\n\t\t\t<view class=\"card info-card\">\r\n\t\t\t\t<view class=\"card-body centered\">\r\n\t\t\t\t\t<text class=\"user-name\">54faye</text>\r\n\t\t\t\t\t<text class=\"user-role\">IoT Admin</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\tconst {\r\n\t\tcreateCommonToken\r\n\t} = require('@/key.js')\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\ttemp: '',\r\n\t\t\t\thumi: '',\r\n\t\t\t\tled: true,\r\n\t\t\t\ttoken: '',\r\n\t\t\t\ttimeStr: '',\r\n\t\t\t\tdateStr: '',\r\n\t\t\t\tweather: null,\r\n\t\t\t\tweatherDesc: '',\r\n\t\t\t\tcity: 'Âåó‰∫¨', // ÈªòËÆ§ÂüéÂ∏ÇÔºåÂèØÁªìÂêà uni.getLocation Âä®ÊÄÅËé∑Âèñ\r\n\t\t\t\ttimer: null,\r\n\t\t\t\tdataTimer: null // Êï∞ÊçÆÂà∑Êñ∞ÂÆöÊó∂Âô®\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\tconst params = {\r\n\t\t\t\taccess_key: '7ROl6flhl+mJZ5dL7zclH8nxfXfL83sDqz/Lo/lX2ys=',\r\n\t\t\t\tversion: '2022-05-01',\r\n\t\t\t\tproductid: '8OCvDyLab8',\r\n\t\t\t}\r\n\t\t\tthis.token = createCommonToken(params);\r\n\t\t\t\r\n\t\t\t// ÂêØÂä®Êó∂Èíü\r\n\t\t\tthis.startClock();\r\n\t\t\t// Ëé∑ÂèñÂ§©Ê∞î\r\n\t\t\tthis.fetchWeather();\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tthis.fetchDevData();\r\n\t\t\t// ÂºÄÂêØËá™Âä®Âà∑Êñ∞ÔºåÊØè3ÁßíÂà∑Êñ∞‰∏ÄÊ¨°\r\n\t\t\tthis.startDataRefresh();\r\n\t\t},\r\n\t\tonHide() {\r\n\t\t\t// È°µÈù¢ÈöêËóèÊó∂ÂÅúÊ≠¢Âà∑Êñ∞ÔºåËäÇÁúÅËµÑÊ∫ê\r\n\t\t\tthis.stopDataRefresh();\r\n\t\t},\r\n\t\tonUnload() {\r\n\t\t\tif (this.timer) {\r\n\t\t\t\tclearInterval(this.timer);\r\n\t\t\t}\r\n\t\t\tthis.stopDataRefresh();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tstartDataRefresh() {\r\n\t\t\t\tthis.stopDataRefresh(); // Èò≤Ê≠¢ÈáçÂ§çÂºÄÂêØ\r\n\t\t\t\tthis.dataTimer = setInterval(() => {\r\n\t\t\t\t\tthis.fetchDevData();\r\n\t\t\t\t}, 3000); // 3ÁßíÂà∑Êñ∞‰∏ÄÊ¨°\r\n\t\t\t},\r\n\t\t\tstopDataRefresh() {\r\n\t\t\t\tif (this.dataTimer) {\r\n\t\t\t\t\tclearInterval(this.dataTimer);\r\n\t\t\t\t\tthis.dataTimer = null;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tstartClock() {\r\n\t\t\t\tconst update = () => {\r\n\t\t\t\t\tconst now = new Date();\r\n\t\t\t\t\tthis.timeStr = now.toLocaleTimeString('zh-CN', { hour12: false });\r\n\t\t\t\t\tconst days = ['Âë®Êó•', 'Âë®‰∏Ä', 'Âë®‰∫å', 'Âë®‰∏â', 'Âë®Âõõ', 'Âë®‰∫î', 'Âë®ÂÖ≠'];\r\n\t\t\t\t\tthis.dateStr = `${now.getMonth() + 1}Êúà${now.getDate()}Êó• ${days[now.getDay()]}`;\r\n\t\t\t\t};\r\n\t\t\t\tupdate();\r\n\t\t\t\tthis.timer = setInterval(update, 1000);\r\n\t\t\t},\r\n\t\t\tfetchWeather() {\r\n\t\t\t\t// Â∞ùËØïËé∑ÂèñÂΩìÂâç‰ΩçÁΩÆ\r\n\t\t\t\tuni.getLocation({\r\n\t\t\t\t\ttype: 'wgs84',\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tconsole.log('ÂÆö‰ΩçÊàêÂäü:', res);\r\n\t\t\t\t\t\t// Ëé∑ÂèñÂ§©Ê∞î\r\n\t\t\t\t\t\tthis.getWeatherByLocation(res.latitude, res.longitude);\r\n\t\t\t\t\t\t// Ëé∑ÂèñÂüéÂ∏ÇÂêçÁß∞\r\n\t\t\t\t\t\tthis.getCityName(res.latitude, res.longitude);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\tconsole.log('ÂÆö‰ΩçÂ§±Ë¥•ÊàñÊùÉÈôêÊú™ÂºÄÂêØÔºå‰ΩøÁî®ÈªòËÆ§‰ΩçÁΩÆ(Âåó‰∫¨)', err);\r\n\t\t\t\t\t\tthis.city = 'Âåó‰∫¨';\r\n\t\t\t\t\t\tthis.getWeatherByLocation(39.9042, 116.4074);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tgetCityName(latitude, longitude) {\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\t// ‰ΩøÁî®ÂÖçË¥πÁöÑÂèçÂêëÂú∞ÁêÜÁºñÁ†Å API (BigDataCloud) Ëé∑ÂèñÂüéÂ∏ÇÂêçÁß∞\r\n\t\t\t\t\turl: `https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${latitude}&longitude=${longitude}&localityLanguage=zh`,\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tconsole.log('‰ΩçÁΩÆ‰ø°ÊÅØ:', res.data);\r\n\t\t\t\t\t\tif (res.data) {\r\n\t\t\t\t\t\t\t// ‰ºòÂÖàÂèñÂüéÂ∏ÇÂêçÔºåÂÖ∂Ê¨°ÂèñË°åÊîøÂå∫Âêç\r\n\t\t\t\t\t\t\tthis.city = res.data.city || res.data.locality || 'Êú¨Âú∞';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: () => {\r\n\t\t\t\t\t\tthis.city = 'Êú¨Âú∞';\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tgetWeatherByLocation(latitude, longitude) {\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: `https://api.open-meteo.com/v1/forecast?latitude=${latitude}&longitude=${longitude}&current_weather=true&timezone=Asia%2FShanghai`,\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tif (res.data && res.data.current_weather) {\r\n\t\t\t\t\t\t\tthis.weather = res.data.current_weather;\r\n\t\t\t\t\t\t\tthis.weatherDesc = this.getWeatherDesc(this.weather.weathercode);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\tconsole.error('Â§©Ê∞îËé∑ÂèñÂ§±Ë¥•', err);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tgetWeatherDesc(code) {\r\n\t\t\t\tconst map = {\r\n\t\t\t\t\t0: 'Êô¥',\r\n\t\t\t\t\t1: 'Êô¥', 2: 'Â§ö‰∫ë', 3: 'Èò¥',\r\n\t\t\t\t\t45: 'Èõæ', 48: 'Èõæ',\r\n\t\t\t\t\t51: 'Â∞èÈõ®', 53: '‰∏≠Èõ®', 55: 'Â§ßÈõ®',\r\n\t\t\t\t\t61: 'Â∞èÈõ®', 63: '‰∏≠Èõ®', 65: 'Â§ßÈõ®',\r\n\t\t\t\t\t71: 'Â∞èÈõ™', 73: '‰∏≠Èõ™', 75: 'Â§ßÈõ™',\r\n\t\t\t\t\t80: 'ÈòµÈõ®', 81: 'ÈòµÈõ®', 82: 'Êö¥Èõ®',\r\n\t\t\t\t\t95: 'Èõ∑Èõ®', 96: 'Èõ∑Èõ®', 99: 'Èõ∑Èõ®'\r\n\t\t\t\t};\r\n\t\t\t\treturn map[code] || 'Êú™Áü•';\r\n\t\t\t},\r\n\t\t\tfetchDevData() {\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: 'https://iot-api.heclouds.com/thingmodel/query-device-property',\r\n\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tproduct_id: '8OCvDyLab8',\r\n\t\t\t\t\t\tdevice_name: 'w1'\r\n\t\t\t\t\t},\r\n\t\t\t\t\theader: {\r\n\t\t\t\t\t\t'authorization': this.token //Ëá™ÂÆö‰πâËØ∑Ê±ÇÂ§¥‰ø°ÊÅØ\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t\t\tif (res.data.code === 0 && res.data.data) {\r\n\t\t\t\t\t\t\t// ‰øùÊåÅÂéüÊúâÊï∞ÊçÆÊò†Â∞ÑÈÄªËæë\r\n\t\t\t\t\t\t\t// Ê≥®ÊÑèÔºöÂª∫ËÆÆÊ†πÊçÆ identifier Âà§Êñ≠ÔºåËøôÈáåÊ≤øÁî®Á¥¢Âºï\r\n\t\t\t\t\t\t\tif(res.data.data[0]) this.humi = res.data.data[0].value;\r\n\t\t\t\t\t\t\tif(res.data.data[2]) this.temp = res.data.data[2].value;\r\n\t\t\t\t\t\t\tif(res.data.data[1]) this.led = res.data.data[1].value === 'true';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tonLedSwitch(event) {\r\n\t\t\t\tconsole.log(event.detail.value);\r\n\t\t\t\tlet value = event.detail.value;\r\n\t\t\t\t// ‰πêËßÇÊõ¥Êñ∞UI\r\n\t\t\t\tthis.led = value;\r\n\t\t\t\t\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: 'https://iot-api.heclouds.com/thingmodel/set-device-property',\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tproduct_id: '8OCvDyLab8',\r\n\t\t\t\t\t\tdevice_name: 'w1',\r\n\t\t\t\t\t\tparams: {\r\n\t\t\t\t\t\t\t\"led\": value\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\theader: {\r\n\t\t\t\t\t\t'authorization': this.token //Ëá™ÂÆö‰πâËØ∑Ê±ÇÂ§¥‰ø°ÊÅØ\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: () => {\r\n\t\t\t\t\t\tconsole.log('led' + (value ? 'on' : 'off') + '!');\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: () => {\r\n\t\t\t\t\t\t// Â§±Ë¥•ÂõûÊªö\r\n\t\t\t\t\t\tthis.led = !value;\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: 'ÊéßÂà∂Â§±Ë¥•',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\tpage {\r\n\t\tbackground-color: #f0f2f5;\r\n\t\tfont-family: system-ui, -apple-system, sans-serif;\r\n\t}\r\n\r\n\t.container {\r\n\t\tpadding: 30rpx;\r\n\t\tmin-height: 100vh;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\r\n\t/* Â§¥ÈÉ®Ê†∑Âºè */\r\n\t.header {\r\n\t\tbackground: linear-gradient(120deg, #89f7fe 0%, #66a6ff 100%);\r\n\t\tborder-radius: 30rpx;\r\n\t\tpadding: 40rpx;\r\n\t\tmargin-bottom: 40rpx;\r\n\t\tcolor: #fff;\r\n\t\tbox-shadow: 0 10rpx 30rpx rgba(102, 166, 255, 0.3);\r\n\t\tposition: relative;\r\n\t\toverflow: hidden;\r\n\t}\r\n\t\r\n\t.header::after {\r\n\t\tcontent: '';\r\n\t\tposition: absolute;\r\n\t\ttop: -50%;\r\n\t\tright: -20%;\r\n\t\twidth: 300rpx;\r\n\t\theight: 300rpx;\r\n\t\tbackground: rgba(255,255,255,0.1);\r\n\t\tborder-radius: 50%;\r\n\t}\r\n\r\n\t.app-title {\r\n\t\tfont-size: 32rpx;\r\n\t\tfont-weight: bold;\r\n\t\topacity: 0.9;\r\n\t\tdisplay: block;\r\n\t\tmargin-bottom: 30rpx;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.weather-clock-box {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.clock-section {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t}\r\n\r\n\t.time {\r\n\t\tfont-size: 64rpx;\r\n\t\tfont-weight: bold;\r\n\t\tline-height: 1;\r\n\t\tmargin-bottom: 10rpx;\r\n\t\ttext-shadow: 0 2rpx 4rpx rgba(0,0,0,0.1);\r\n\t}\r\n\r\n\t.date {\r\n\t\tfont-size: 28rpx;\r\n\t\topacity: 0.9;\r\n\t}\r\n\r\n\t.weather-section {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: flex-end;\r\n\t}\r\n\r\n\t.weather-temp {\r\n\t\tfont-size: 56rpx;\r\n\t\tfont-weight: bold;\r\n\t}\r\n\r\n\t.weather-status {\r\n\t\tfont-size: 24rpx;\r\n\t\tbackground: rgba(255,255,255,0.2);\r\n\t\tpadding: 4rpx 16rpx;\r\n\t\tborder-radius: 20rpx;\r\n\t\tmargin-top: 8rpx;\r\n\t}\r\n\r\n\t/* ÁΩëÊ†ºÂ∏ÉÂ±Ä */\r\n\t.grid-container {\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: wrap;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\r\n\t.card {\r\n\t\twidth: 48%;\r\n\t\tbackground: #fff;\r\n\t\tborder-radius: 30rpx;\r\n\t\tpadding: 30rpx;\r\n\t\tmargin-bottom: 30rpx;\r\n\t\tbox-sizing: border-box;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: space-between;\r\n\t\tbox-shadow: 0 8rpx 20rpx rgba(0,0,0,0.03);\r\n\t\ttransition: all 0.3s ease;\r\n\t\tposition: relative;\r\n\t\toverflow: hidden;\r\n\t\theight: 240rpx;\r\n\t}\r\n\t\r\n\t.card:active {\r\n\t\ttransform: scale(0.98);\r\n\t}\r\n\r\n\t.card-header {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: flex-start;\r\n\t\tmargin-bottom: 20rpx;\r\n\t}\r\n\r\n\t.card-label {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #666;\r\n\t\tfont-weight: 500;\r\n\t}\r\n\r\n\t.card-icon {\r\n\t\tfont-size: 40rpx;\r\n\t}\r\n\r\n\t.card-body {\r\n\t\tdisplay: flex;\r\n\t\talign-items: baseline;\r\n\t}\r\n\t\r\n\t.row-body {\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t.card-value {\r\n\t\tfont-size: 60rpx;\r\n\t\tfont-weight: bold;\r\n\t\tcolor: #333;\r\n\t}\r\n\r\n\t.card-unit {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #999;\r\n\t\tmargin-left: 8rpx;\r\n\t}\r\n\r\n\t/* Â§öÂ∑¥ËÉ∫ÈÖçËâ≤È£éÊ†º */\r\n\t\r\n\t/* Ê∏©Â∫¶ - ÊöñËâ≤Ë∞É */\r\n\t.temp-card {\r\n\t\tbackground: linear-gradient(145deg, #ffffff 0%, #fff0f0 100%);\r\n\t\tborder: 2rpx solid rgba(255, 154, 158, 0.2);\r\n\t}\r\n\t.temp-card .card-value { color: #ff6b6b; }\r\n\t.temp-card .card-icon { \r\n\t\tbackground: #ffe2e2; \r\n\t\tpadding: 10rpx; \r\n\t\tborder-radius: 50%;\r\n\t\tfont-size: 32rpx;\r\n\t}\r\n\r\n\t/* ÊπøÂ∫¶ - ÂÜ∑Ëâ≤Ë∞É */\r\n\t.humi-card {\r\n\t\tbackground: linear-gradient(145deg, #ffffff 0%, #f0f8ff 100%);\r\n\t\tborder: 2rpx solid rgba(79, 172, 254, 0.2);\r\n\t}\r\n\t.humi-card .card-value { color: #4facfe; }\r\n\t.humi-card .card-icon { \r\n\t\tbackground: #e0f2ff; \r\n\t\tpadding: 10rpx; \r\n\t\tborder-radius: 50%;\r\n\t\tfont-size: 32rpx;\r\n\t}\r\n\r\n\t/* Âè∞ÁÅØ - ‰∫ÆÈªÑËâ≤ */\r\n\t.light-card {\r\n\t\tbackground: linear-gradient(145deg, #ffffff 0%, #fffdf0 100%);\r\n\t\tborder: 2rpx solid rgba(255, 210, 0, 0.2);\r\n\t}\r\n\t.light-card .card-icon { \r\n\t\tbackground: #fff8cc; \r\n\t\tpadding: 10rpx; \r\n\t\tborder-radius: 50%;\r\n\t\tfont-size: 32rpx;\r\n\t}\r\n\t.status-text {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #888;\r\n\t}\r\n\r\n\t/* Áî®Êà∑‰ø°ÊÅØ - Ê∏êÂèòËâ≤ */\r\n\t.info-card {\r\n\t\tbackground: linear-gradient(135deg, #a18cd1 0%, #fbc2eb 100%);\r\n\t\tborder: none;\r\n\t\tcolor: white;\r\n\t}\r\n\t\r\n\t.info-card .centered {\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n\t\r\n\t.user-name {\r\n\t\tfont-size: 48rpx;\r\n\t\tfont-weight: bold;\r\n\t\tmargin-bottom: 10rpx;\r\n\t\ttext-shadow: 0 2rpx 4rpx rgba(0,0,0,0.1);\r\n\t}\r\n\t\r\n\t.user-role {\r\n\t\tfont-size: 24rpx;\r\n\t\topacity: 0.8;\r\n\t\tbackground: rgba(255,255,255,0.2);\r\n\t\tpadding: 4rpx 16rpx;\r\n\t\tborder-radius: 20rpx;\r\n\t}\r\n</style>"],"sourceRoot":""}